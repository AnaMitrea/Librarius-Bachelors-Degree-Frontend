<div class="review-section"
     fxLayout="column"
     fxLayoutAlign="start none"
>
  <span class="review-title">REVIEWS</span>
  <div class="personal-review"
       fxLayout="row"
       fxLayoutAlign="start none"
       fxLayoutGap="20px"
  >
    <div class="avatar-holder">
      <div [ngClass]="['avatar', 'bg_color_1']">
        <div class="avatar-text" fxLayout="row" fxLayoutAlign="center center">{{getFirstLetter('Ana')}}</div>
      </div>
    </div>

    <div class="review-comment-box"
         fxLayout="column"
         fxLayoutAlign="center none"
    >
      <textarea cdkTextareaAutosize
                [formControl]="commentControl"
                (input)="onInputChange()"
                placeholder="Share your review here"
      ></textarea>

      <div  fxLayout="row"
            fxLayoutAlign="space-between center">
        <div class="character-count" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px">
          <span><b>{{ charactersLeft }}</b> characters left</span>
          <mat-icon matTooltip="Your review must have at least 50 characters" matTooltipPosition="above">info</mat-icon>
        </div>
        <button [disabled]="isButtonDisabled" (click)="submitComment()" mat-raised-button>Submit</button>
      </div>
    </div>
  </div>

  <div class="user-reviews"
       fxLayout="column"
       fxLayoutAlign="start none"
       fxLayoutGap="20px"
  >
    <div class="order-by-box"
         fxLayout="row"
         fxLayoutAlign="start center">
      <label>Order reviews by:</label>
      <mat-radio-group
        [(ngModel)]="orderByRecent">
        <mat-radio-button class="example-radio-button" value="Most Recent" (change)="radioChange($event)">Most recent</mat-radio-button>
        <mat-radio-button class="example-radio-button" value="Most Voted" (change)="radioChange($event)">Most voted</mat-radio-button>
      </mat-radio-group>
    </div>

    <div class="review-row"
        fxLayout="row"
        fxLayoutAlign="start none"
        fxLayoutGap="20px"
         *ngFor="let review of reviews"
    >
      <div class="avatar-holder">
        <div [ngClass]="['avatar', 'bg_color_2']">
          <div class="avatar-text" fxLayout="row" fxLayoutAlign="center center">{{review.user.nameInitial}}</div>
        </div>
      </div>

      <div class="review-details">
        <div>
          <div class="user-information">
            <span class="username">{{review.user.username}},  </span>
            <span class="days">{{review.timeValue}} {{review.timeUnit}} ago</span>
          </div>
          <div class="review-text">
            {{review.content}}
          </div>
        </div>

        <div class="review-buttons">
          <div fxLayout="row"
              fxLayoutAlign="start center"
          >
            <button mat-icon-button (click)="onReviewLikeClick(review.id)">
              <mat-icon [ngClass]="{'is-liked': review.liked, 'is-not-liked' : !review.liked, 'has-likes' : review.likes > 0 }"
              >thumb_up_alt</mat-icon>
            </button>
            <span [hidden]="review.likes === 0" [ngClass]="{'is-liked': review.liked, 'is-not-liked' : !review.liked, 'has-likes' : review.likes > 0 }">{{review.likes}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
